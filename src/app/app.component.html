<div class="container">
    <form class="form shadow m-3 p-3" [formGroup]="form">
        <h1 class="mt-3">Load dropdowns based on selection</h1>
        <div class="row">
            <h4 class="col-md-4">Country</h4>
            <mat-form-field style="width:90%" appearance="outline" [floatLabel]="'never'">
                <mat-select formControlName="country" (selectionChange)="getStateByCountryId()"
                    placeholder="Select Country">
                    <mat-option *ngFor="let country of countries" [value]="country">{{country?.country}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="row">
            <h4 class="col-md-4">State</h4>
            <mat-form-field style="width:90%" appearance="outline" [floatLabel]="'never'">
                <mat-select formControlName="state" (selectionChange)="getCitiesByStateName()"
                    [disabled]="!form.controls.country.valid" placeholder="Select State">
                    <mat-option *ngFor="let state of states" [value]="state">{{state?.state}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="row">
            <h4 class="col-md-4">City</h4>
            <mat-form-field style="width:90%" appearance="outline" [floatLabel]="'never'">
                <mat-select formControlName="city" [disabled]="!form.controls.state.valid" placeholder="Select City">
                    <ng-container *ngFor="let city of cities">
                        <mat-option [value]="city">{{city?.name}}</mat-option>
                    </ng-container>
                </mat-select>
            </mat-form-field>
        </div>
    </form>
</div>